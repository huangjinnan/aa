(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6491d2b4"],{"24ab":function(t,e,a){},"3dd0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"write-info"},[a("navbar",{attrs:{text:"填写资料",isShowNavbar:"false"}}),a("scroller",[t.next?[a("form",{staticClass:"form",attrs:{action:""}},[a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],staticClass:"form-item__input",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}})]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("性别")]),a("van-radio-group",{model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}},[a("van-radio",{attrs:{name:1,"checked-color":"#ff0204"}},[t._v("男")]),a("van-radio",{attrs:{name:2,"checked-color":"#ff0204"}},[t._v("女")])],1)],1),a("div",{staticClass:"form-item",on:{click:function(e){return t.openPopup("datePopup")}}},[a("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("出生年月")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.birthday,expression:"formData.birthday"}],staticClass:"form-item__input",attrs:{disabled:"",type:"text",placeholder:"请输入出生年月"},domProps:{value:t.formData.birthday},on:{input:function(e){e.target.composing||t.$set(t.formData,"birthday",e.target.value)}}})]),a("div",{staticClass:"form-item",on:{click:function(e){return t.openPopup("cityPopup")}}},[a("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("省市区")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.area,expression:"formData.area"}],staticClass:"form-item__input",attrs:{disabled:"",type:"text",placeholder:"请输入省市区"},domProps:{value:t.formData.area},on:{input:function(e){e.target.composing||t.$set(t.formData,"area",e.target.value)}}})]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("详细地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-item__input",attrs:{type:"text",placeholder:"请输入详细地址"},domProps:{value:t.formData.address},on:{input:function(e){e.target.composing||t.$set(t.formData,"address",e.target.value)}}})])]),a("button",{staticClass:"u-button u-button--primary u-button--big",on:{click:t.saveMemberInfo}},[t._v("保存")])]:[a("form",{staticClass:"form",attrs:{action:""}},[a("div",{staticClass:"form-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"form-item__input",attrs:{type:"number",placeholder:"手机号"},domProps:{value:t.formData.phone},on:{input:[function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)},t.verifyInput]}})])]),t.isInputSuccess?a("button",{staticClass:"u-button u-button--primary u-button--big",on:{click:t.nextAtion}},[t._v("下一步")]):a("button",{staticClass:"u-button u-button--primary u-button--big disable"},[t._v("下一步")])]],2),a("van-popup",{attrs:{position:"bottom"},model:{value:t.datePopup,callback:function(e){t.datePopup=e},expression:"datePopup"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate},on:{change:t.setDate,confirm:t.closeDatePopup,cancel:function(e){return t.closePopup("datePopup")}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),a("van-popup",{attrs:{position:"bottom"},model:{value:t.cityPopup,callback:function(e){t.cityPopup=e},expression:"cityPopup"}},[a("van-area",{attrs:{"area-list":t.areaList},on:{confirm:t.setCity,cancel:function(e){return t.closePopup("cityPopup")}}})],1)],1)},n=[],o=(a("3a23"),a("4453"),a("ee95")),i=(a("b06f"),a("ed08")),s=a("7c15"),c=a("9d8d"),u=a("a4c0"),m={data:function(){return{datas:[],formData:{username:"",phone:null,sex:1,birthday:"",area:"",address:"",marryday:"",job_num:""},next:!1,currentDate:new Date,datePopup:!1,cityPopup:!1,areaList:i["a"],birthday:"",verifyCode:"",isInputVerifyCode:!1,verifyCodeBtnText:"获取验证码",isInputSuccess:!1}},components:{navbar:c["a"]},computed:{isVerification:function(){return Number(this.$store.state.isVerification)},minDate:function(){return new Date("1900,01,01")}},methods:{nextAtion:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.next=!0,t.next=3,s["a"].getNextAtion(this.formData.phone);case 3:e=t.sent,console.log(e);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),verifyInput:function(t){},openPopup:function(t){this[t]=!0},closePopup:function(t){this[t]=!1},setDate:function(t){console.log(t);var e=t.getValues();this.birthday="".concat(e[0],"-").concat(e[1],"-").concat(e[2])},closeDatePopup:function(){this.formData.birthday=this.birthday,this.datePopup=!1},setCity:function(t){this.formData.area="".concat(t[0].name,",").concat(t[1].name,",").concat(t[2].name),this.cityPopup=!1},saveMemberInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.formData,e.username){t.next=4;break}return Object(u["d"])("请输入名字"),t.abrupt("return",!1);case 4:if(e.birthday){t.next=7;break}return Object(u["d"])("请输入出生年月"),t.abrupt("return",!1);case 7:if(e.area){t.next=10;break}return Object(u["d"])("请输入省市区"),t.abrupt("return",!1);case 10:if(e.address){t.next=13;break}return Object(u["d"])("请输入具体地址"),t.abrupt("return",!1);case 13:return e.PHPSESSID=window.localStorage.getItem("PHPSESSID"),t.next=16,s["a"].saveMemberInfo(e);case 16:a=t.sent,0==a.code?u["d"].fail(a.msg):(u["d"].success(a.msg),this.$router.push("/members/index"));case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getVerifyCode:function(){var t=this;if(!this.iphone)return Object(u["d"])("手机号有问题"),!1;if(-1!=this.verifyCodeBtnText.indexOf("获取")){var e=60,a=setInterval(function(){t.verifyCodeBtnText="重新发送(".concat(e,")"),e--,0==e&&(clearInterval(a),t.verifyCodeBtnText="重新获取")},1e3);s["a"].getVerifyCode(this.iphone)}}},created:function(){}},p=m,l=(a("448a"),a("17cc")),f=Object(l["a"])(p,r,n,!1,null,"341e2ede",null);e["default"]=f.exports},"448a":function(t,e,a){"use strict";var r=a("24ab"),n=a.n(r);n.a}}]);