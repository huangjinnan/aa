(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f268f316"],{"0f86":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"get-card"},[e("navbar",{attrs:{text:"完善资料"}}),e("scroller",[e("form",{staticClass:"form",attrs:{action:""}},[e("div",{staticClass:"form-item"},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[e("span",{staticClass:"form-item__required"},[t._v("*")]),t._v("姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],staticClass:"form-item__input",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.formData.username},on:{input:function(a){a.target.composing||t.$set(t.formData,"username",a.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[e("span",{staticClass:"form-item__required"},[t._v("*")]),t._v("手机号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"form-item__input",attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:t.formData.phone},on:{input:function(a){a.target.composing||t.$set(t.formData,"phone",a.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[e("span",{staticClass:"form-item__required"},[t._v("*")]),t._v("性别")]),e("van-radio-group",{model:{value:t.formData.sex,callback:function(a){t.$set(t.formData,"sex",a)},expression:"formData.sex"}},[e("van-radio",{attrs:{name:1,"checked-color":"#ff0204"}},[t._v("男")]),e("van-radio",{attrs:{name:2,"checked-color":"#ff0204"}},[t._v("女")])],1)],1),e("div",{staticClass:"form-item",on:{click:function(a){return t.openPopup("isDatePopup")}}},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("生日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.birthday,expression:"formData.birthday"}],staticClass:"form-item__input",attrs:{disabled:"",type:"text",placeholder:"请输入生日"},domProps:{value:t.formData.birthday},on:{input:function(a){a.target.composing||t.$set(t.formData,"birthday",a.target.value)}}})]),e("div",{staticClass:"form-item",on:{click:function(a){return t.openPopup("isMemoryPopup")}}},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[t._v("结婚日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.marryday,expression:"formData.marryday"}],staticClass:"form-item__input",attrs:{disabled:"",type:"text",placeholder:"请输入结婚纪念日"},domProps:{value:t.formData.marryday},on:{input:function(a){a.target.composing||t.$set(t.formData,"marryday",a.target.value)}}})]),e("div",{staticClass:"form-item",on:{click:function(a){return t.openPopup("isCityPopup")}}},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[e("span",{staticClass:"form-item__required"},[t._v("*")]),t._v("省市区")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.area,expression:"formData.area"}],staticClass:"form-item__input",attrs:{disabled:"",type:"text",placeholder:"请输入省市区"},domProps:{value:t.formData.area},on:{input:function(a){a.target.composing||t.$set(t.formData,"area",a.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{staticClass:"form-item__label",attrs:{for:""}},[e("span",{staticClass:"form-item__required"},[t._v("*")]),t._v("详细地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.address,expression:"formData.address"}],staticClass:"form-item__input",attrs:{type:"text",placeholder:"请输入详细地址"},domProps:{value:t.formData.address},on:{input:function(a){a.target.composing||t.$set(t.formData,"address",a.target.value)}}})])]),e("button",{staticClass:"u-button u-button--primary u-button--big",on:{click:t.saveMemberInfo}},[t._v("保存")])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.isDatePopup,callback:function(a){t.isDatePopup=a},expression:"isDatePopup"}},[e("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate},on:{change:t.setDate,confirm:function(a){return t.closePopup("isDatePopup")}},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1),e("van-popup",{attrs:{position:"bottom"},model:{value:t.isMemoryPopup,callback:function(a){t.isMemoryPopup=a},expression:"isMemoryPopup"}},[e("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate},on:{change:t.setMarryday,confirm:function(a){return t.closePopup("isMemoryPopup")}},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1),e("van-popup",{attrs:{position:"bottom"},model:{value:t.isCityPopup,callback:function(a){t.isCityPopup=a},expression:"isCityPopup"}},[e("van-area",{attrs:{"area-list":t.areaList},on:{confirm:t.setCity}})],1)],1)},o=[],s=(e("ea65"),e("4453"),e("ee95")),n=(e("3a23"),e("7c15")),i=e("ed08"),m=e("9d8d"),c=e("a4c0"),u={data:function(){return{datas:[],formData:{username:"",phone:"",sex:1,birthday:"",area:"",address:"",marryday:"",job_num:""},areaList:i["a"],date:"",isCityPopup:!1,isDatePopup:!1,isMemoryPopup:!1,currentDate:new Date}},components:{navbar:m["a"]},computed:{minDate:function(){return new Date("1900,01,01")}},methods:{openPopup:function(t){this[t]=!0},closePopup:function(t){this[t]=!1},setDate:function(t){console.log(t);var a=t.getValues();this.formData.birthday="".concat(a[0],"-").concat(a[1],"-").concat(a[2])},setMarryday:function(t){console.log(t);var a=t.getValues();this.formData.marryday="".concat(a[0],"-").concat(a[1],"-").concat(a[2])},setCity:function(t){this.address="".concat(t[0].name,",").concat(t[1].name,",").concat(t[2].name),this.cityPopup=!1},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isRecordPopup=!0,t.next=3,n["a"].getMemberInfo();case 3:a=t.sent,e=a.info,this.formData.username=e.username,this.formData.phone=e.phone,this.formData.sex=e.sex,this.formData.birthday=e.birthday<=0?"":Object(i["i"])(e.birthday,!0).split(".").join("-"),this.formData.marryday=e.marryday<=0?"":Object(i["i"])(e.marryday,!0).split(".").join("-"),this.formData.area=e.area,this.formData.address=e.address,this.formData.job_num=e.job_num;case 13:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),saveMemberInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.formData,a.username){t.next=4;break}return Object(c["d"])("请输入名字"),t.abrupt("return",!1);case 4:if(a.area){t.next=7;break}return Object(c["d"])("请输入省市区"),t.abrupt("return",!1);case 7:if(a.address){t.next=10;break}return Object(c["d"])("请输入具体地址"),t.abrupt("return",!1);case 10:return a.PHPSESSID=window.localStorage.getItem("PHPSESSID"),t.next=13,n["a"].saveMemberInfo(a);case 13:e=t.sent,0==e.code?c["d"].fail(e.msg):(c["d"].success(e.msg),this.$router.push("/members/index"));case 15:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()},created:function(){this.getData()}},p=u,l=(e("3c5e"),e("17cc")),f=Object(l["a"])(p,r,o,!1,null,"34f20a18",null);a["default"]=f.exports},"3c5e":function(t,a,e){"use strict";var r=e("9834"),o=e.n(r);o.a},9834:function(t,a,e){}}]);